
<% @ranking= @professionals %>
<% @top1= @ranking[0]%>
<% @top2= @ranking[1]%>
<% @top3= @ranking[2]%>
<% @top4= @ranking[3]%>
<% @top5= @ranking[4]%>
<% @top6= @ranking[5]%>

<% if user_signed_in? %>
  <section  id="firstSection">
    <div class="banner">
      <div class="container text-center">
        <%= image_tag("nutricion.png", alt: "logo", id: "nutricionPng")%>
        <%= image_tag("dieta.png", alt: "logo", id: "dietaPng")%>
        <%= image_tag("manzanita.png", alt: "logo", id: "manzanitaPng")%>
        <%= image_tag("verdura.png", alt: "logo", id: "verduraPng")%>   
        <h1 class="bannerTitle">Bienvenido a Nutrialic <%= @user.name %></h1>
        
        <% if !@user.professional %>
          <p>Felicitaciones por comenzar este viaje junto a nosotros. Cuenta con nuestro apoyo para lograr tus objetivos y mantente enfocado en tus metas!</p>
        <% elsif %>
          <p>No olvides personalizar tu perfil personal, sube imagenes y agrega la informacion profesional que desees.</p>
        <% end %>
        <%= link_to "Ir a mi Perfil", show_by_username_path(id: @user.professional.username), class:"btn",id: "btnRegister" %>
      </div>
    </div>
  </section>
<% else %>
  <section id="firstSection" >
    <div class="banner" >
      <div class="container text-center" id="firstSectionContent">
        <%= image_tag("nutricion.png", alt: "logo", id: "nutricionPng")%>
        <%= image_tag("dieta.png", alt: "logo", id: "dietaPng")%>
        <%= image_tag("manzanita.png", alt: "logo", id: "manzanitaPng")%>
        <%= image_tag("verdura.png", alt: "logo", id: "verduraPng")%>   
        <div class="titleContainer" ><h1 class="bannerTitle">Nutrialic hace que la Nutrición sea accesible para todos</h1></div>
        <div style="width: 80%; margin-left:auto; margin-right: auto">
          <p style="margin-bottom: 0px">Sí quieres mejorar tu alimentación, ¡Registrate como Usuario!</p>
          <p> Sí eres nutriólogo, ¡Registrate como Profesional!</p>
        </div>
        <%= link_to "¡Registrate y comienza tu viaje!", new_user_registration_path, class:"btn",id: "btnRegister" %>
      </div>
    </div>
  </section> 
  
<% end %>

<% if !user_signed_in? %>
<section id="secondSection">
  <div class="container reveal">
    <div id="secondSectionContent">
      <div class="row">
      <div class="col col-sm-12 col-md-6" id="secondSectionSecondCol" style="display: flex; align-items: center; flex: initial;">
          <div id="svgSecondSection">
            <%= image_tag('mimi.jpg', alt: 'sandwich', id: "mimiImg") %>
          </div>
        </div>
        <div class="col col-sm-12 col-md-6" class="columSecondSection"  style="display: flex; align-items: center; flex: initial;">
          <div id="contentSecondFirstCol">
            <h1>Servicio de calidad al alcance de un click</h1>
            <p>Nutrialic es una plataforma social en la que pacientes de diferentes partes de Mexico pueden encontrar nutriologos cerca de ellos de una forma rapida, tambien ofrecemos un servicio de consultas en linea que facilita la toma de consultas para nutriologos y clientes.</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
<% end %>



<% if !@user || !@user.professional%>
  <% if user_signed_in? %>
  <section id="thirdSection" style="top: 0px;">
<% else %>
  <section id="thirdSection">
<% end %>
  <div class="text-center reveal">  
  <%= render 'pages/slider' %>
  </div>
  <div class="container boton text-center" id="contenedorBotomHome">
    <button class="btn btn-flat" id="botonHome"> <%= link_to "Más Nutriólogos", professionals_path%> </button>
  </div>
</section>
<% end %>




<script>
window.addEventListener("scroll", reveal);
function reveal() {
  const reveals = document.querySelectorAll(".reveal");

  for (let i = 0; i < reveals.length; i++) {
    let windowHeight = window.innerHeight;
    let revealTop = reveals[i].getBoundingClientRect().top;
    let revealPoint = 70;

    if (revealTop < windowHeight - revealPoint) {
      reveals[i].classList.add("active");
    } else {
      reveals[i].classList.remove("active");
    }
  }
}
</script>
